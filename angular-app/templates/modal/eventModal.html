<form>
<div class="modal-body">
    <div class="row">
        <div class="col-xs-3" style="padding-right: 0;">
            <div class="well well-billable">
                <div class="form-group">
                    <label class="btn-block">Resource name</label>
                    <span ng-bind-html="items.resource_name"></span>
                </div>

                <div class="form-group">
                    <label class="btn-block">Total Hours</label>
                    <span ng-bind-html="items.total_hours"></span>
                </div>

                <div class="form-group">
                    <label class="btn-block">Remaining Hours</label>
                    <span ng-required="true" ng-bind-html="remaining_hrs"></span>
                </div>
            </div>

        </div>

       <div class="col-xs-9" style="padding-left: 15px;">
       <span class="text-danger" style="display:none;" id="event_err_msg"></span>
            <hr>
            <label>Assign <i ng-bind-html="items.resource_name"> </i>.</label>
            <div class="row">

                <div class="col-md-3" style="padding-right: 0;">
                    <div class="input-group input-group-sm dropdown-menu-datepicker">
                        <input id="start-date" readonly mandatory type="text" class="form-control" datepicker-popup="{{calendar.dateFormat}}" ng-model="record.start_date" is-open="calendar.opened.dob" datepicker-options="calendar.dateOptions" close-text="Close" placeholder="Start date" ng-click="calendar.open($event, 'dob')"/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="calendar.open($event, 'dob')"><i class="fa fa-calendar"></i></button>
                        </span>
                    </div>
                </div>
                <div class="col-md-3" style="padding-right: 0;">
                    <div class="input-group input-group-sm dropdown-menu-datepicker">
                        <input id="end-date" readonly mandatory type="text" class="form-control" datepicker-popup="{{calendar.dateFormat}}" ng-model="record.end_date" is-open="calendar.opened.win" datepicker-options="calendar.dateOptions" close-text="Close" placeholder="End date" ng-click="calendar.open($event, 'win')" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="calendar.open($event, 'win')"><i class="fa fa-calendar"></i></button>
                        </span>
                    </div>
                </div>
                <div class="col-md-2" style="padding-right: 0;">
                    <input id="hour-form" type="text" valid-number nums-limit mandatory ng-model="record.hour" placeholder="hrs/day" class="input-sm form-control">
                </div>
                <div class="col-md-3">
                    <button id="pool-btn" class="btn btn-warning btn-sm btn-block" ng-click="addEvent()"><i id="pool-msg" class="fa fa-level-down fa-lg"></i> Assign</button>
                </div>

                <div class="col-xs-12">
                    <hr>
                    <table class="table table-condendsed">
                        <thead>
                            <tr>
                                <th width="30%">Start date</th>
                                <th width="30%">End date</th>
                                <th width="20%">Hrs/day</th>
                                <th width="20%">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="event in events track by $index">
                            <td>
                                    <span ng-bind-html="event.start_disp"></span>
                            </td>
                            <td>
                                    <span ng-bind-html="event.end_disp"></span>
                            </td>
                            <td>
                                    <span ng-bind-html="event.frequency"></span>
                            </td>
                            <td>
                                    <span ng-bind-html="event.total"></span> hr(s).
                            </td>
                            <td width="1%">
                                    <a class="btn btn-danger btn-xs" ng-click="removeEvent($index)" aria-label="Remove">
                                        <span class="fa fa-times"></span>
                                    </a>
                            </td>
                        </tr>
                        </tbody>
                        <tbody>
                        <tr ng-repeat="load in loaded_events track by $index">
                            <td>
                                    <span ng-bind-html="load.start_date.month"></span>/<span ng-bind-html="load.start_date.day"></span>/<span ng-bind-html="load.start_date.year"></span>
                            </td>
                            <td>
                                    <span ng-bind-html="load.end_date.month"></span>/<span ng-bind-html="load.end_date.day"></span>/<span ng-bind-html="load.end_date.year"></span>
                            </td>
                            <td>
                                    <span ng-bind-html="load.frequency"></span>
                            </td>
                            <td>
                                    <span ng-bind-html="load.total_hours"></span> hr(s).
                            </td>
                            <td width="1%">
                                    <a class="btn btn-danger btn-xs" ng-click="removeEvent($index,load.key)" aria-label="Remove">
                                        <span class="fa fa-times"></span>
                                    </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>


                </div>
            </div>

        </div>
    </div>
</div>

<div class="modal-footer">
    <button id="submit-btn" class="btn btn-sm btn-primary" ng-click="submit()">Confirm</button>
    <button class="btn btn-sm btn-link" ng-click="cancel()">Cancel</button>
</div>
</form>

