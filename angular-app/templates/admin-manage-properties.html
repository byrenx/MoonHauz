<!-- Property List -->
<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 sidebar">
  <div class="row">
    <div class="col-md-12 form-inline">
      <button class="btn btn-success btn-sm" ng-click="property.modal()">
        <i class="fa fa-plus"></i>&nbsp;property
      </button>
      <div class="form-group has-feedback pull-right">
	<input type="text" class="form-control input-sm">
	<i class="fa fa-search form-control-feedback"></i>
      </div>
    </div>
    <div class="col-md-12">

      <h3>Property List
      	<small>

      	</small>
      </h3>

      <table class="table table-condensed table-hover">
        <tr ng-repeat="item in property.model.list" ng-click="property.show_info(item)">
          <td>
            <span ng-bind="::item.name"></span>
            <span ng-bind="::item.location"></span>
          </td>
        </tr>
      </table>
      <!--/ pagination -->
      <div class="col-sm-offset-2 col-sm-8" ng-show="property.model.list.length > 0">
	<nav>
	  <ul class="pager">
	    <li>
	      <button href="" ng-click="property.previous()" ng-disabled="property.model.previous_page === undefined" class="btn btn-primary">
		<i class="fa fa-chevron-left"></i>
	      </button>
	    </li>
	    <li><button href="" ng-click="property.next()" ng-disabled="property.model.next_page === undefined" class="btn btn-primary">
		<i class="fa fa-chevron-right"></i>
	      </button>
	    </li>
	  </ul>
	</nav>
      </div><!--/ end of pagination buttons -->
    </div>
  </div>
</div>

<!-- Resources -->

<!-- Calendar -->
<div id="rightColumn" class="col-xs-4 col-sm-4 col-md-4 col-lg-4 calendar-container">
  <div class="pull-right">
    <button class="btn btn-link btn-sm" ng-click="property.editModal()"><i class="fa fa-pencil-square-o"></i>Edit Profile</button>
  </div>
  <h3> Property Profile</h3>
  <div class="row" ng-if="property.model.info.name">
    <div class="col-md-12">
      <h4> Property Name </h4>
      <p ng-bind="property.model.info.name"></p>
    </div>
    </br>
  </div>
  <div class="row" ng-if="property.model.info.location">
    <div class="col-md-12">
      <h4> Location </h4>
      <p ng-bind="property.model.info.location"></p>
    </div>
  </div>

  <div class="row" ng-if="property.model.info.transaction_type">
    <div class="col-md-12">
      <h4> For </h4>
      <span ng-bind="property.model.info.transaction_type"></span>
    </div>
  </div>

  <div class="row" ng-if="property.model.info.land_area">
    <div class="col-md-12">
      <h4> Area </h4>
      <span ng-bind="property.model.info.land_area"></span>
    </div>
  </div>

  <div class="row" ng-if="property.model.info.price">
    <div class="col-md-12">
      <h4> Price: </h4>
      <span ng-bind="property.model.info.price"></span>
    </div>
  </div>
  <div class="row" ng-if="property.model.info.features">
    <div class="col-md-12">
      <h4>Other Features: </h4>
      <p ng-bind="property.model.info.features"></p>
    </div>
    <div class="col-md-12"><h4> Pictures: </h4>
      <form>
	<div class="form-group">
	  <input type="hidden" ng-model="property.model.info.key.urlsafe">
	  <input type="file" ngf-select ng-model="property.photo.file" name="file"    
		 accept="image/*" ngf-max-size="10MB" required>
	</div>
	<div class="form-group">
	  <input type="submit" class="btn btn-primary btn-sm" ng-click="property.uploadPhoto()" value="Upload">
	  <span ng-show="property.photo.progress > 0">
	    <i class="fa fa-spinner fa-pulse"></i> Uploading...
	  </span>
	</div>
      </form>
      <div class="row">
	<div class="col-sm-6 col-md-4" ng-repeat="image_url in property.model.info.images_urls">
	  <div class="thumbnail">
	    <img src="https://storage.googleapis.com{{image_url}}" alt="...">
	    <div class="caption">
              <p>
		<a href="#" class="btn btn-primary btn-xs" role="button">...</a>
	      </p>
	    </div>
	  </div>
	</div>
      </div> <!--/end of row-->
    </div>

    <div class="col-md-12"><h4> Supporting Documents </h4>
      <form ng-submit="">
	<input type="file">
      </form>
      <hr>
    </div>
  </div>
</div>
<div id="rightColumn" class="col-xs-4 col-sm-4 col-md-4 col-lg-4 calendar-container">
  <h3> Map </h3>
  <div class="col-sm-12">
    <div id="map-canvas" class="col-md-12" style="height: 450px;"></div>
  </div>
</div>
<!-- Calendar -->


<!--create property modal-->
<div id="propertyModal" class="modal" x-modal="propertyModal" ng-controller="PropertyModal as pm">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
	<h3 class="modal-title">Property <small>(Property Profile)</small></h3>
      </div>

      <div class="modal-body">
	<div class="row">
	  <!-- TODO: We could add a ui-select2 for google places query -->
	  <div class="col-xs-12 form-group">
	    <label for="type">Property Type</label>
	    <select id="type" class="form-control input-sm" ng-options="type for type in pm.types" ng-model="pm.model.entity.type" ng-disabled="pm.model.entity.key"></select>
	  </div>
	  
	  <div class="col-xs-12 form-group form-inline" ng-if="pm.model.entity.type">
	    <div class="radio">
              <label>
		<input type="radio" value="SALE" ng-model="pm.model.entity.transaction_type">
		For Sale
              </label>
	    </div>
	    <div class="radio">
              <label>
		<input type="radio" value="RENT" ng-model="pm.model.entity.transaction_type">
		For Rent
              </label>
	    </div>
	  </div>
	  <div class="divider"></div>
	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type == 'Land'">
	    <label for="land_types">Land Types</label>
	    <select id="land_types" ng-options="type for type in pm.model.land_types" ng-model="pm.model.entity.land_type" class="input-sm form-control">
	    </select>
	  </div>

	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type">
	    <label for="name">Name</label>
	    <input id="name" ng-model="pm.model.entity.name" mandatory type="text" class="input-sm form-control" placeholder="Name" ng-required="true">
	  </div>

	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type" style="z-index: 1051;">
	    <label for="location">Location</label>
	    <input id="location" ng-model="pm.model.entity.location" mandatory type="text" class="input-sm form-control" placeholder="Location" ng-required="true" ng-init="pm.setLocationSearch(this)" >
	  </div>

	  <!--Land  and House and Lot Property field-->
	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type == 'Land' || pm.model.entity.type == 'House and Lot'">
	    <label for="land_area">Land Area</label>
	    <input id="land_area" ng-model="pm.model.entity.land_area" mandatory type="number" class="input-sm form-control" placeholder="Area" ng-required="true">
	  </div>

	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type">
            <label for="price">Price</label>
            <input id="price" ng-model="pm.model.entity.price" mandatory numbers-limit number-only type="number" class="input-sm form-control" placeholder="Price" ng-required="true">
	  </div>
	  <!--/end Land  and House and Lot Property field-->

	  <!--Condo property fields-->
	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type == 'Condo'">
	    <label for="capacity">Capacity</label>
	    <input id="capacity" ng-model="pm.model.entity.capacity" mandatory numbers-limit number-only type="number" class="input-sm form-control" placeholder="Price" ng-required="true">
	  </div>
	  <!--/end of condo property fields-->

	  <!-- house and lot proerties-->
	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type == 'House and Lot'">
	    <label for="floors">No. of Floors</label>
	    <input id="floors" ng-model="pm.model.entity.floors" mandatory numbers-limit number-only type="number" class="input-sm form-control" placeholder="Price" ng-required="true">
	  </div>

	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type == 'House and Lot' || pm.model.entity.type == 'Condo'">
	    <label for="floor_area">Floor Area</label>
	    <input id="hour_err" ng-model="pm.model.entity.floor_area" mandatory numbers-limit number-only type="number" class="input-sm form-control" placeholder="Price" ng-required="true">
	  </div>

	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type == 'House and Lot'">
	    <label for="bedrooms">No. Bedrooms</label>
	    <input id="bedrooms" ng-model="pm.model.entity.bedrooms" mandatory numbers-limit number-only type="number" class="input-sm form-control" placeholder="Price" ng-required="true">
	  </div>
	  <!--/end of house and lot proerty fields-->
	  <div class="col-xs-12 form-group" ng-if="pm.model.entity.type">
	    <label for="features">Other Features</label>
	    <textarea id="features" ng-model="pm.model.entity.features" mandatory type="text" class="input-sm form-control" placeholder="Description" ng-required="true"></textarea>
	  </div>
	  <span id="error_msg"></span>
	</div>
      </div>

      <div class="modal-footer">
    	<button id="ok-btn" class="btn btn-sm btn-primary" ng-click="pm.save()" ng-disabled="pm.model.entity.type === undefined">Save</button>
    	<button class="btn btn-sm btn-link" ng-click="pm.cancel()">Cancel</button>
      </div>

    </div>
  </div>
</div>
<!--/ end of modal -->
